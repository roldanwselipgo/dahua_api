{% extends 'core/base.html' %} {% block title %}Conf devices{% endblock %}{% block content %}
{% load static %}
{% load util %}
<main role="main">
    <div class="container-fluid mb-4">
        <br>
        <div class="row">
            <div class="col-6">
                <h4 class="mb-5">Current configuration</h4> 
                <hr>
                <table class="table">
                    <thead class="thead-light">
                    <tr>
                        <th scope="col">General Info</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><label class="">Ip</label> </td>
                            <td> <label class=""><a target="blank" class="link" href="{% url 'device:device' id %}"> {{ip}}</a></label> </td>
                        </tr>
                        <tr>
                            <td><label class="">Language</label> </td>
                            <td> <label class="">{{ language }}</label> </td>
                        </tr>
                        <tr>
                            <td><label class="">Current time</label> </td>
                            <td> <label class="">{{ current_time }} </label> </td>
                        </tr>
                        <tr>
                            <td><label class="">Device type</label> </td>
                            
                            <td> <label class="">{{ device_type_name }} {{ device_type }}</label> </td>
                        </tr>
                    </tbody>
                </table>

                <table class="table">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">Video Encode Info</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                </table>


                <!--Size dropdown menu-->
<!-- <select id="size_select">
    <option value="option1">Kids</option>
    <option value="option2">Youth</option>
    <option value="option3">XS</option>
    <option value="option4">Small</option>
    <option value="option5">Medium</option>
    <option value="option6">Large</option>
  </select>
  
  <div id="option1" class="size_chart">
    Kids
  </div>
  <div id="option2" class="size_chart">
    Youth
  </div>
  <div id="option3" class="size_chart">
    XS
  </div>
  <div id="option4" class="size_chart">
    Small
  </div>
  <div id="option5" class="size_chart">
    Medium
  </div>
  <div id="option6" class="size_chart">
    Large
  </div> -->

<select id="size_select">
    {% for channel in channels %}
    <option value="ch{{channel}}">Channel {{channel}}</option> 
    {% for element in channels %}
         
        {% endfor %}
    {% endfor %}
    
  </select>


  <!-- <select id="size_select">
    {% for channels in array_config %}
    <option value="ch{{forloop.counter0}}">Channel{{forloop.counter0}}</option> 
    {% for element in channels %}
         
        {% endfor %}
    {% endfor %}
    
  </select>
   -->
  <!--Size dropdown content-->

  <!-- {% for channels_config in array_config %}
  {{ channels|index:forloop.counter0 }}   

  {% endfor %} -->



  {% for channels_config in array_config %}
  <div id="ch{{channels|index:forloop.counter0}}" class="size_chart">
    {% for element in channels_config %}
    <table class="table">
        <thead class="thead-light">
        <tr>
            {% if forloop.counter0 == 0 %}
            <th scope="col">Mainstream</th>
            <th scope="col"></th>

            {% else %}
            <th scope="col">Substream</th>
            <th scope="col"></th>
            {% endif %}

        </tr>
        </thead>
        <tbody>
            {% for key,value in element.items %}
            <tr>
                <td><label class="">{{ key }}</label> </td>
                <td> <label class="">{{ value }}</label> </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endfor %}

  </div>
  {% endfor %}
  

  {{array_config  }}
                
                    
                    </tbody>
                </table>
            </div>
            <div class="col-5 ml-5 ">
                <h4 class="mb-5">Default configuration</h4>
                <hr>
                
                
                <!-- Contenido del form-->
                {%load crispy_forms_tags %} 
                <form action="" method="GET" enctype="multipart/form-data">{% csrf_token %}

                    <div class="form-group col-12 mb-3">
                        <label class="control-label ">Type</label>
                        <select name="type" class=" channel ">
                            <option value="0">Regular encode </option>
                            <option value="1">Motion detection encode</option>
                            <option value="2">Alarm encode</option>
                            <option value="3">Emergency encode</option>

                        </select>
                    </div>

                    <div class="form-group col-12 ">
                        <div class="row">
                            
                            {% for tupla in array_config %}
                            <div class="col-3">
                                <!-- <label class="checkbox-inline"> -->
                                <label class="checkbox-inline">
                                    <input class="checkbox-f" name="{{channels|index:forloop.counter0}}" type="checkbox" value=1 checked> ch{{channels|index:forloop.counter0}}
                                </label>
                            </div>
                            {% endfor %}
                            
                            <div class="col-3">
                                <label class="checkbox-inline">
                                    <input   name="mainstream" type="checkbox" value=1 checked> Main Stream
                                </label>
                            </div>
                            <div class="col-3">
                                <label class="checkbox-inline">
                                    <input   name="substream" type="checkbox" value=1 checked>  Substream
                                </label>
                            </div>
                            <div class="col-3">
                                <label class="checkbox-inline">
                                    <input  id="checkbox-all" name="channel" type="checkbox" value="all" checked>  All
                                </label>
                            </div>
                        </div>
                        
                            
                    </div>

                    <!-- obtiene datos del modelo -->
                    {{ form|crispy }}
                    <div class="col-4">
                        <label class="checkbox-inline ">
                            <input id="checkbox-time" name="checkbox-time" type="checkbox" value="time" checked> <h5  class="ml-5">Now</h5>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary">Enviar</button>
                    <!-- <a href="./" type="submit" class="btn btn-primary">Cancelar</a> -->
                </form>
                

                
            </div>
        </div>

    </div>

        

    </div>
</main>

{% endblock %}